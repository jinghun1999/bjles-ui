<div class="modal-header">
  <div class="modal-title">{{ title }}-动作</div>
</div>
<form #f="ngForm" nz-form (ngSubmit)="save()">
  <div>
    <button nz-button type="button" (click)="close()">关闭</button>
    <button nz-button [disabled]="!f.form.valid || !f.form.dirty" [nzLoading]="http.loading" [nzType]="'primary'">
      保存
    </button>
  </div>

  <nz-form-item class="mb-sm" *ngIf="dataActionTPL.length>0">
    <nz-form-label nzSpan="2">选择动作模板</nz-form-label>
    <nz-form-control nzSpan="5">
      <nz-select [nzSize]="size" [(ngModel)]="action_tpl" (ngModelChange)="tplChange($event)" name="ActionTPL"
        id="ActionTPL">
        <nz-option *ngFor="let i of dataActionTPL" [nzLabel]="i.action_name_cn" [nzValue]="i.action_name"> </nz-option>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="mb-sm">
    <nz-form-label nzSpan="2">动作*</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.action_name" name="action_name" required />
    </nz-form-control>
    <nz-form-label nzSpan="2">链接地址*</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.action_url" name="action_url" required />
    </nz-form-control>
    <nz-form-label nzSpan="2">动作类型</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.action_type" name="action_type" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item class="mb-sm">
    <nz-form-label nzSpan="2">动作显示名*</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.action_name_cn" name="action_name_cn" required />
    </nz-form-control>
    <nz-form-label nzSpan="2">图标*</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.icon_name" name="icon_name" required />
    </nz-form-control>
    <nz-form-label nzSpan="2">客户端脚本</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.client_js" name="client_js" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item class="mb-sm">
    <nz-form-label nzSpan="2">部位*</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.section" name="section" required />
    </nz-form-control>
    <nz-form-label nzSpan="2">关联菜单*</nz-form-label>
    <nz-form-control nzSpan="5">
      <nz-select [(ngModel)]="record.menu_id" [nzSize]="size" name="menu_id" id="menu_id" [nzPlaceHolder]="'请选择'"
        [nzShowSearch]="true" required>
        <nz-option *ngFor="let i of dataMenu" [nzLabel]="i.text" [nzValue]="i.val"> </nz-option>
      </nz-select>
    </nz-form-control>
    <nz-form-label nzSpan="2">排序号</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.menu_order" name="menu_order" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item class="mb-sm">
    <nz-form-label nzSpan="2">动作描述</nz-form-label>
    <nz-form-control nzSpan="5">
      <input nz-input [nzSize]="size" [(ngModel)]="record.action_description" name="action_description" />
    </nz-form-control>
  </nz-form-item>
</form>
